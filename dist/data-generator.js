"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.TrainingPlan = exports.Swimming = exports.Cycling = exports.Running = exports.TrainingActivity = void 0;
exports.generateJsonData = generateJsonData;
/**
 * @fileoverview This file contains the data generation logic for the Ollama response.
 */
/**
 * Represents a single training activity with a date, description, and discipline.
 */
class TrainingActivity {
    isDone() {
        return this.done;
    }
    markAsDone() {
        this.done = true;
    }
    markAsUndone() {
        this.done = false;
    }
    constructor(date, description, discipline, plannedDuration) {
        this.done = false;
        this.date = date;
        this.description = description;
        this.discipline = discipline;
        this.plannedDuration = plannedDuration;
    }
}
exports.TrainingActivity = TrainingActivity;
/**
 * Represents a running activity, inheriting from TrainingActivity.
 * It automatically sets the discipline to "Running" and adds a distance property.
 */
class Running extends TrainingActivity {
    constructor(date, description, plannedDuration, // Changed from TimeRanges to number
    distance // Additional field for Running
    ) {
        // Call the parent constructor with a fixed discipline
        super(date, description, "Running", plannedDuration);
        this.date = date;
        this.description = description;
        this.plannedDuration = plannedDuration;
        this.distance = distance;
    }
}
exports.Running = Running;
class Cycling extends TrainingActivity {
    constructor(date, description, plannedDuration, // Changed from TimeRanges to number
    distance // Additional field for Running
    ) {
        // Call the parent constructor with a fixed discipline
        super(date, description, "Cycling", plannedDuration);
        this.date = date;
        this.description = description;
        this.plannedDuration = plannedDuration;
        this.distance = distance;
    }
}
exports.Cycling = Cycling;
class Swimming extends TrainingActivity {
    constructor(date, description, plannedDuration, // Changed from TimeRanges to number
    distance // Additional field for Running
    ) {
        // Call the parent constructor with a fixed discipline
        super(date, description, "Swimming", plannedDuration);
        this.date = date;
        this.description = description;
        this.plannedDuration = plannedDuration;
        this.distance = distance;
    }
}
exports.Swimming = Swimming;
class TrainingPlan {
    constructor() {
        this.activities = [];
    }
    addActivity(activity) {
        this.activities.push(activity);
        this.activities.sort((a, b) => a.date.getTime() - b.date.getTime());
    }
    getEntriesByDate() {
        const entries = {};
        for (const activity of this.activities) {
            const dateKey = activity.date.toISOString().split("T")[0]; // Format date as 'YYYY-MM-DD'
            if (!entries[dateKey]) {
                entries[dateKey] = [];
            }
            // Push a detailed object instead of just the description string
            entries[dateKey].push({
                description: activity.description,
                discipline: activity.discipline,
                done: activity.isDone(),
                plannedDuration: activity.plannedDuration, // Add plannedDuration here
            });
        }
        return entries;
    }
}
exports.TrainingPlan = TrainingPlan;
function generateJsonData() {
    // For now, we'll return a static object.
    // In a real application, this is where you'd fetch data from Ollama.
    const plan = new TrainingPlan();
    // Add some sample activities to the plan
    const runningActivity = new Running(new Date("2025-11-19"), "Morning Run", 30, 5); // 30 minutes, 5km
    runningActivity.markAsDone(); // Mark this one as done for demonstration
    plan.addActivity(runningActivity);
    plan.addActivity(new Cycling(new Date("2025-11-22"), "Morning Cycle", 60, 25)); // 60 minutes, 25km
    plan.addActivity(new Swimming(new Date("2025-11-31"), "Morning Swim", 45, 1.5)); // 45 minutes, 1.5km
    return {
        message: "This JSON was generated by a dedicated function!",
        timestamp: new Date(),
        model: "llama2",
        entriesByDate: plan.getEntriesByDate(),
    };
}
